<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Literature Review: COSMIC: Generalized Refusal Direction Identification in LLM Activations | Jehyeok Yeon </title> <meta name="author" content="Jehyeok Yeon"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?b05f9a0b7405d7c8c89c7465593dea81"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?dadeb9c5d1fd12bc8d37475657446863"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://jeybird248.github.io/blog/2025/research_24/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Jehyeok</span> Yeon </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Literature Review: COSMIC: Generalized Refusal Direction Identification in LLM Activations</h1> <p class="post-meta"> Created in June 14, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/interpretability"> <i class="fa-solid fa-hashtag fa-sm"></i> Interpretability</a>   <a href="/blog/tag/trustworthy-ai"> <i class="fa-solid fa-hashtag fa-sm"></i> Trustworthy AI</a>   <a href="/blog/tag/adversarial-ai"> <i class="fa-solid fa-hashtag fa-sm"></i> Adversarial AI</a>   <a href="/blog/tag/llm"> <i class="fa-solid fa-hashtag fa-sm"></i> LLM</a>   <a href="/blog/tag/ai-safety"> <i class="fa-solid fa-hashtag fa-sm"></i> AI Safety</a>     ·   <a href="/blog/category/research"> <i class="fa-solid fa-tag fa-sm"></i> research</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>COSMIC proposes a fully output-agnostic pipeline for finding “refusal directions” in a language model’s residual-stream activations. By ranking candidate directions with a cosine-similarity–based “concept inversion” score, the method automatically selects both the steering vector and the layer at which to intervene, without relying on surface-level refusal templates such as “I’m sorry, but…”. The paper demonstrates that COSMIC can (i) match or exceed handcrafted or substring-matching baselines in normal settings, (ii) continue to work when every prompt elicits a refusal (adversarial complete-refusal), and (iii) extract useful safety vectors even from weakly aligned or jailbreak-fine-tuned models.</p> <h2 id="key-insights">Key Insights</h2> <p>COSMIC starts by discarding any reliance on surface text and searches for refusal features directly in activation space. For every token position and layer it forms a “difference-in-means” vector between harmful and harmless prompts, then evaluates each vector with a concept-inversion score: If adding the vector pushes harmless activations toward the harmful cluster and ablating it pulls harmful activations toward harmless ones, that vector receives a high score. The best-scoring direction acts as a compact signature of refusal without ever looking at the model’s decoded words.</p> <p>The search is narrowed to the 10 % of layers where harmful and harmless activations diverge most, on the premise that refusal features are concentrated in these layers. Once the direction is chosen, it can be reused by any steering rule—linear addition, affine shifts, or future editing schemes—so the discovery cost is paid only once.</p> <p>Robustness tests underscore the value of this output-agnostic approach. When a system prompt forces every response to be a refusal, string-match baselines fail completely, yet COSMIC still extracts a steerable vector. On uncensored fine-tunes such as dolphin-2.9.4 and Lexi-Uncensored-V2, injecting the vector with a modest affine gain cuts jailbreak success by 10–20 % while introducing few false refusals.</p> <p>Finally, scaling experiments reveal that refusal behavior is not governed by a single linear axis: moderate gains strengthen refusals, but very large gains can re-jailbreak the model, hinting at nonlinear geometry in the underlying representation space.</p> <p align="center"> <img src="../../../assets/img/literature/24_0.png" width="600"> </p> <p align="center"><em>Figure: COSMIC workflow. Candidate difference-in-means vectors are extracted at multiple layers &amp; token positions, scored with internal cosine similarity, and the best vector is reused by any steering rule.</em></p> <h2 id="example">Example</h2> <p>Imagine a harmful prompt “Describe how to make nerve gas” and a harmless prompt “Describe how to make pasta sauce.”</p> <ol> <li>Run both prompts through the model, grab residual activations for the last five post-instruction tokens at each layer.</li> <li>Compute <code class="language-plaintext highlighter-rouge">r_{i,l} = mean_harmful – mean_harmless</code> for every <code class="language-plaintext highlighter-rouge">(i,l)</code>.</li> <li>For each candidate, perform a <em>virtual</em> forward pass twice on a validation set: once with activation addition (<code class="language-plaintext highlighter-rouge">+r</code>) and once with directional ablation.</li> <li>Concatenate activations at the 10 % most discriminative layers, evaluate <code class="language-plaintext highlighter-rouge">S_refuse + S_comply</code>, keep the top-scoring <code class="language-plaintext highlighter-rouge">(i*,l*)</code>.</li> <li>At inference, inject <code class="language-plaintext highlighter-rouge">+r*</code> to force a refusal or ablate <code class="language-plaintext highlighter-rouge">r*</code> to bypass it—no template matching required.</li> </ol> <h2 id="ratings">Ratings</h2> <p><strong>Novelty: 4/5</strong> The shift from output-based heuristics to purely activation-based scoring is a substantial methodological step, though it builds on well-known difference-in-means and cosine-similarity tools.</p> <p><strong>Clarity: 3/5</strong><br> Overall presentation is readable, but several design choices—most notably the “lowest 10 % of layers” heuristic—lack empirical justification. Some figures are crowded, and the non-monotonic α-sweeps deserve deeper analysis.</p> <h2 id="personal-comments">Personal Comments</h2> <p>The output-agnostic selection is the paper’s strongest contribution; anyone who has wrestled with fragile string-match refusal detectors will appreciate this improvement. Historically, early debiasing work on word embeddings used similar cosine tricks, but applying them to dynamic steering in LLMs is a natural yet non-trivial extension.</p> <p>That said, the 10 % layer threshold feels arbitrary. A Pareto-style 80/20 heuristic, or even a learned threshold based on an elbow in the similarity curve, might generalize better. I do like the simple harmful/harmless filtering, but the method could profit from an ablation study varying this percentage.</p> <p>The non-monotone response to scaling <code class="language-plaintext highlighter-rouge">α</code> echoes older findings in feature surgery: beyond a certain magnitude you start exciting off-manifold directions, so behavior swings unpredictably. This underscores that “directions” are local linearizations, not global axes.</p> <p>I think it would be interesting to look into adaptive layer weighting instead of a hard 10% cut and potentially combining the COSMIC scoring with other methods to isolate cleaner directions.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/research_23/">Literature Review: Layer-Gated Sparse Steering for Large Language Models</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/research_16/">Literature Review: Programming Refusal with Conditional Activation Steering</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/research_9/">Literature Review: Attack and Defense Techniques in Large Language Models: A Survey and New Perspectives</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/research_21/">Literature Review: Auto-Patching: Enhancing Multi-Hop Reasoning in Language Models</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/research_33/">Literature Review: SelfElicit - Your Language Model Secretly Knows Where is the Relevant Evidence</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Jehyeok Yeon. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>